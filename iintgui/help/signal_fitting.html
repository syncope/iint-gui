<!DOCTYPE html>
<html>
<h2 id="iint-gui-Signalfitting">Signal fitting</h2>
<p>Basis for the fit is the data that is most processed; which can range between the unprocessed raw spectrum to the despiked, background subtracted signal spectrum.</p>
<p>Two different modes of fitting are supported.</p>
<p>Initially the fitting dialog will look like:</p>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="161" src="attachments/122985904/146119298.png" data-image-src="attachments/122985904/146119298.png" data-unresolved-comment-count="0" data-linked-resource-id="146119298" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="fitstart.png" data-base-url="https://confluence.desy.de" data-linked-resource-content-type="image/png" data-linked-resource-container-id="122985904" data-linked-resource-container-version="16"></span></p>
<h5 id="iint-gui-Mode1:&quot;autoGauss&quot;">Mode 1: &quot;auto Gauss&quot;</h5>
<p>By activating the check box next to the label &quot;auto Gauss&quot; a very common use case is activated.</p>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="114" src="attachments/122985904/146119316.png" data-image-src="attachments/122985904/146119316.png" data-unresolved-comment-count="0" data-linked-resource-id="146119316" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="autogauss.png" data-base-url="https://confluence.desy.de" data-linked-resource-content-type="image/png" data-linked-resource-container-id="122985904" data-linked-resource-container-version="16"></span></p>
<p>Here a gaussian curve will be fitted to the data; all initialization of the fit parameters is extracted from the data itself.</p>
<p>This is particularly favourable if the fit ranges (e.g. motor positions) of the scan series are very different.</p>
<p>By clicking on the &quot;Fit&quot; button, the fit will be run and displayed in the display part.</p>
<p>Also the results for the fit parameters are shown in a new tab of the display part, giving a complete overview of the scan series.</p>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" height="250" src="attachments/122985904/146119329.png" data-image-src="attachments/122985904/146119329.png" data-unresolved-comment-count="0" data-linked-resource-id="146119329" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="fitresults.png" data-base-url="https://confluence.desy.de" data-linked-resource-content-type="image/png" data-linked-resource-container-id="122985904" data-linked-resource-container-version="16"></span></p>
<h5 id="iint-gui-Mode2:custommodel">Mode 2: custom model</h5>
<p>In a second procedure the model to be fit can be set up.</p>
<p>First select a function/model from the drop down list and add it to the current model by clicking on &quot;Add&quot;.</p>
<p>As an example, after adding two gaussian models the widget will look like:</p>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="158" src="attachments/122985904/146119346.png" data-image-src="attachments/122985904/146119346.png" data-unresolved-comment-count="0" data-linked-resource-id="146119346" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="doublegauss.png" data-base-url="https://confluence.desy.de" data-linked-resource-content-type="image/png" data-linked-resource-container-id="122985904" data-linked-resource-container-version="16"></span></p>
<p>Since the fit procedure needs start parameters, click on &quot;Configure&quot; to open the configuration dialog.</p>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="attachments/122985904/146119356.png" data-image-src="attachments/122985904/146119356.png" data-unresolved-comment-count="0" data-linked-resource-id="146119356" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="fitconfig.png" data-base-url="https://confluence.desy.de" data-linked-resource-content-type="image/png" data-linked-resource-container-id="122985904" data-linked-resource-container-version="16"></span></p>
<p>Here the individual values for the model parameters can be chosen.</p>
<p>For the current parameter values the curves will be superimposed to the data display, as well as the total sum.</p>
<p>As shown in the example image, the colours can be chosen by clicking on &quot;Colour&quot;.</p>
<p>Once everything is approximately set up, the &quot;Test&quot; button can be pressed to check on the current spectrum how the fit will look like.</p>
<p>To allow fitting of the series close the dialog with &quot;Done&quot;.</p>
<p>The actual fit of the series is then executed by clicking on &quot;Fit&quot;.</p>
<h3 id="iint-gui-Automaticcalculationoftrapezoidintegral">Automatic calculation of trapezoid integral</h3>
<p>As an unseen side effect the trapezoidal sum is always calculated when performing the fit.</p>
</body>
</html>
